{% extends "layout.html" %}
{% block title %}ECA Status Detail{% endblock %}
{% block head %}
    {{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/pca.css') }}" media="screen">
{% endblock %}
{% block body %}
    {{ super() }}

<div class="container">
<h2>Status Flag Details For Run {{ run_number }} </h2>            


<h3 class="sub-header">Run Status Flags</h3>

      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="col-md-1">Flag</th>
              <th class="col-md-5">Description</th>
              <th class="col-md-2">Status</th>
            </tr>
          </thead>
          <tbody>
              <tr>
                <td>0: </td>
                <td>Too many channels with 0 events </td>
                <td><strong> {{ statusfmt(testBit(run_status,0)) }}</strong></td>
              </tr>
              <tr>
                <td>1: </td>
                <td>Too many channels with not enough events</td>
                <td><strong> {{ statusfmt(testBit(run_status,1)) }}</strong></td>
              </tr>
              <tr>
                <td>2:</td>
                <td>Too many channels failing board ID check</td>
                <td><strong> {{ statusfmt(testBit(run_status,2)) }}</strong></td>
              </tr>
              <tr>
                <td>3:</td>
                <td>Too many channels failing QHS width & value tests</td>
                <td><strong> {{ statusfmt(testBit(run_status,3)) }}</strong></td>
              </tr>
              <tr>
                <td>4:</td>
                <td>Too many channels failing QHL width & value tests</td>
                <td><strong> {{ statusfmt(testBit(run_status,4)) }}</strong></td>
              </tr>
              <tr>
                <td>5:</td>
                <td>Too many channels failing QLX width & value tests</td>
                <td><strong> {{ statusfmt(testBit(run_status,5)) }}</strong></td>
              </tr>
              <tr>
                <td>6:</td>
                <td>Too many channels failing TAC width & value tests</td>
                <td><strong> {{ statusfmt(testBit(run_status,6)) }}</strong></td>
              </tr>
              <tr>
                <td>7:</td>
                <td>Run-averaged QHS pedestal outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,7)) }}</strong></td>
              </tr>
              <tr>
                <td>8:</td>
                <td>Run-averaged QHL pedestal outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,8)) }}</strong></td>
              </tr>
              <tr>
                <td>9:</td>
                <td>Run-averaged QLX pedestal outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,9)) }}</strong></td>
              </tr>
              <tr>
                <td>10:</td>
                <td>Run-averaged TAC pedestal outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,10)) }}</strong></td>
              </tr>
              <tr>
                <td>11:</td>
                <td>Run-averaged QHS width outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,11)) }}</strong></td>
              </tr>
              <tr>
                <td>12:</td>
                <td>Run-averaged QHL width outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,12)) }}</strong></td>
              </tr>
              <tr>
                <td>13:</td>
                <td>Run-averaged QLX width outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,13)) }}</strong></td>
              </tr>
              <tr>
                <td>14:</td>
                <td>Run-averaged TAC width outside tolerance</td>
                <td><strong> {{ statusfmt(testBit(run_status,14)) }}</strong></td>
              </tr>
              <tr>
                <td>15:</td>
                <td>Run-averaged QHS difference w/ previous run outside tolerance (check not always done)</td>
                <td><strong> {{ statusfmt(testBit(run_status,15)) }}</strong></td>
              </tr>
              <tr>
                <td>16:</td>
                <td>Run-averaged QHL difference w/ previous run outside tolerance (check not always done)</td>
                <td><strong> {{ statusfmt(testBit(run_status,16)) }}</strong></td>
              </tr>
              <tr>
                <td>17:</td>
                <td>Run-averaged QLX difference w/ previous run outside tolerance (check not always done)</td>
                <td><strong> {{ statusfmt(testBit(run_status,17)) }}</strong></td>
              </tr>
              <tr>
                <td>18:</td>
                <td>Run-averaged TAC difference w/ previous run outside tolerance (check not always done)</td>
                <td><strong> {{ statusfmt(testBit(run_status,18)) }}</strong></td>
              </tr>
              <tr>
                <td>19:</td>
                <td>Too many channels not passing all tests</td>
                <td><strong> {{ statusfmt(testBit(run_status,19)) }}</strong></td>
              </tr>
              <tr>
                <td>20:</td>
                <td>Too many channels using default fSig value (i.e. less than 4 events)</td>
                <td><strong> {{ statusfmt(testBit(run_status,20)) }}</strong></td>
              </tr>
                <td>26:</td>
                <td>UC bit set</td>
                <td><strong> {{ statusfmt(testBit(run_status,26)) }}</strong></td>
              </tr>
              <tr>
                <td>27:</td>
                <td>Failed board ID checks</td>
                <td><strong> {{ statusfmt(testBit(run_status,27)) }}</strong></td>
              </tr>
              <tr>
                <td>28:</td>
                <td>Failed channnel sequencer checks</td>
                <td><strong> {{ statusfmt(testBit(run_status,28)) }}</strong></td>
              </tr>
              <tr>
                <td>29:</td>
                <td>Tried to do difference test with previous run but couldn't access PDST bank</td>
                <td><strong> {{ statusfmt(testBit(run_status,29)) }}</strong></td>
              </tr>
              <tr>
                <td>30:</td>
                <td>Run not completed</td>
                <td><strong> {{ statusfmt(testBit(run_status,30)) }}</strong></td>
              </tr>
              <tr>
                <td>31:</td>
                <td>Tried to merge with previous run and did not complete</td>
                <td><strong> {{ statusfmt(testBit(run_status,31)) }}</strong></td>
              </tr>
          </tbody>
        </table>
      </div>


</div>


{% endblock %}
